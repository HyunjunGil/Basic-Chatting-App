(this.webpackJsonpreact_practice=this.webpackJsonpreact_practice||[]).push([[0],{27:function(e,t,n){},41:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(29),i=n.n(s),o=(n(41),n(25)),r=n(12),u=n(9),l=n(34).a.initializeApp({apiKey:"AIzaSyAGfPAbDT5ZCXx7F00B7G3Rtbn-TRLb7vI",authDomain:"test-03-19-2021.firebaseapp.com",projectId:"test-03-19-2021",storageBucket:"test-03-19-2021.appspot.com",messagingSenderId:"381856068644",appId:"1:381856068644:web:082fd6317bfe206c4354b1"}),j=l.firestore(),b=(n(27),n(4));var d=function(){var e=Object(u.f)(),t=Object(a.useState)([]),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),d=Object(r.a)(i,2),O=d[0],h=d[1],f=Object(a.useState)(0),p=Object(r.a)(f,2),m=p[0],x=p[1],g=Object(a.useState)(""),v=Object(r.a)(g,2),N=v[0],S=v[1],C=Object(a.useState)(""),k=Object(r.a)(C,2),A=k[0],U=k[1],w=Object(a.useState)(""),I=Object(r.a)(w,2),F=I[0],y=I[1],E=Object(a.useState)(""),L=Object(r.a)(E,2),P=L[0],B=L[1],T=Object(a.useState)(""),D=Object(r.a)(T,2),z=D[0],G=D[1],J=Object(a.useState)("Anonymous"),R=Object(r.a)(J,2),W=R[0],_=R[1],K=Object(a.useState)(!1),M=Object(r.a)(K,2),X=M[0],Y=M[1];return Object(a.useEffect)((function(){j.collection("chat").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));t.length&&(t.sort((function(e,t){return e.cnt-t.cnt})),x(t[t.length-1].cnt+1)),s(t)}))}),[]),Object(a.useEffect)((function(){l.auth().onAuthStateChanged((function(e){var t=(l.auth().currentUser||{}).uid;t&&(Y(!0),G(t))}))}),[]),Object(b.jsxs)("div",{className:"App",children:[X?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"btn btn-danger",onClick:function(e){l.auth().signOut(),Y(!1),_("Anonymous")},children:"Logout"})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{className:"default-textarea",value:F,onChange:function(e){y(e.target.value)},placeholder:"email"}),Object(b.jsx)("input",{className:"default-textarea",value:P,onChange:function(e){B(e.target.value)},placeholder:"password"}),Object(b.jsx)("div",{className:"btn btn-success",onClick:function(t){F.length<3?alert("!!!"):l.auth().signInWithEmailAndPassword(F,P).then((function(t){var n=(l.auth().currentUser||{}).uid;n?(j.collection("userInfo").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())})).filter((function(e){return e.uid===n}));_(t[0].nickName)})),Y(!0),G(n),y(""),B(""),e.push("/")):alert("error")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}))},children:"Login"}),Object(b.jsx)("div",{className:"btn btn-signUp",onClick:function(t){e.push("/signUp")},children:"Sign Up"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("textarea",{className:"default-textarea",value:O,onChange:function(e){h(e.target.value)},placeholder:"type here to add"}),Object(b.jsx)("div",{className:"btn btn-success",value:O,onClick:function(e){return e.target.value,void j.collection("chat").add({uid:z,content:O,cnt:m,nickName:W}).then((function(e){h(""),x((function(e){return e+1}))}))},children:"Add"}),Object(b.jsx)("br",{}),Object(b.jsx)("textarea",{className:"default-textarea",value:N,onChange:function(e){S(e.target.value)},placeholder:"document id"}),Object(b.jsx)("textarea",{className:"default-textarea",value:A,onChange:function(e){U(e.target.value)},placeholder:"new context"}),Object(b.jsx)("div",{className:"btn btn-success",onClick:function(e){j.collection("chat").doc(N).update({content:A}).then((function(){S(""),U("")}))},children:"Update"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{}),c.map((function(e){return Object(b.jsxs)("div",{onClick:function(t){return n=e.id,void(1==window.confirm("Press a confirm button!")?j.collection("chat").doc(n).delete().then((function(){})):alert("You canceled"));var n},children:[e.nickName,": ",e.content]})}))]})};var O=function(){var e=Object(u.f)(),t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),o=Object(r.a)(i,2),d=o[0],O=o[1],h=Object(a.useState)(""),f=Object(r.a)(h,2),p=f[0],m=f[1],x=Object(a.useState)(""),g=Object(r.a)(x,2),v=g[0],N=g[1],S=Object(a.useState)(""),C=Object(r.a)(S,2),k=C[0],A=C[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{className:"btn btn-signUp",children:"First Name"}),Object(b.jsx)("input",{className:"default-textarea",placeholder:"First name",value:v,onChange:function(e){N(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"btn btn-signUp",children:"Last Name"}),Object(b.jsx)("input",{className:"default-textarea",placeholder:"Last name",value:p,onChange:function(e){m(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"btn btn-signUp",children:"Email Address"}),Object(b.jsx)("input",{className:"default-textarea",placeholder:"Email",value:c,onChange:function(e){s(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"btn btn-signUp",children:"Password"}),Object(b.jsx)("input",{className:"default-textarea",placeholder:"password",value:d,onChange:function(e){O(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"btn btn-signUp",children:"Nickname"}),Object(b.jsx)("input",{className:"default-textarea",placeholder:"nickname",value:k,onChange:function(e){A(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"btn btn-success",onClick:function(t){l.auth().createUserWithEmailAndPassword(c,d).then((function(t){var n=(l.auth().currentUser||{}).uid;j.collection("userInfo").add({uid:n,emailAddress:c,password:d,firstName:v,lastName:p,nickName:k}).then((function(t){console.log(c,d,v,p,k),console.log("success to sign up"),e.push("/")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}))})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}))},children:"Sign Up!"})]})},h=n(32),f=n(33),p=n(36),m=n(35),x=n(20),g=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return Object(b.jsx)(x.a,{children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/",component:d}),Object(b.jsx)(u.a,{exact:!0,path:"/signup",component:O})]})})}}]),n}(c.a.Component),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),v()}},[[50,1,2]]]);
//# sourceMappingURL=main.60476bef.chunk.js.map